version: '3.4'

services:
  continuous_double_auction:
    image: project
    build: .
    ports:
      - '8082:8090'
    networks:
      exchange:
        ipv4_address: 10.10.0.2
  client_0:
    image: project
    ports:
      - '8083:8090'
    env_file:
       - 'variables.env'
    depends_on:
      - continuous_double_auction
    networks:
      exchange:
        ipv4_address: 10.10.0.3
  client_1:
    image: project
    ports:
      - '8084:8090'
    env_file:
       - 'variables.env'
    depends_on:
      - continuous_double_auction
    networks:
      exchange:
        ipv4_address: 10.10.0.4
  client_2:
    image: project
    ports:
      - '8085:8090'
    env_file:
       - 'variables.env'
    depends_on:
      - continuous_double_auction
    networks:
      exchange:
        ipv4_address: 10.10.0.5
  client_3:
    image: project
    ports:
      - '8086:8090'
    env_file:
       - 'variables.env'
    depends_on:
      - continuous_double_auction
    networks:
      exchange:
        ipv4_address: 10.10.0.6
networks:
  exchange:
    ipam:
      config:
        - subnet: 10.10.0.0/24
